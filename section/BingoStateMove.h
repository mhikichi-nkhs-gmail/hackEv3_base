#ifndef _BLOCK_STATE_MOVE_H_
#define _BLOCK_STATE_MOVE_H_

#include "BingoState.h"
#include "Section.h"
#include "BlockSectionManager.h"

class BingoStateMove : public BingoState
{
    public:
        BingoStateMove(BlockSectionManager *bsm);

        void init();
        //bool run();
        int selectCircle(int current,int idxs[]);
        void rotIdxs(int dir,int idxs[]);

    protected:

    private:


        float bkp=38,bki=10.0,bkd=5.1;
        float fwd=20;
        float bspd =26.0;
        float bspd2 = 16.5;
        float _EDGE = 1.0;
        float sign=1.0;

 
  
        BINGO_SEC *carry_list[16][16] = {
            {},
            {0,0,c1_2,c1_3,   c1_4,0,0,0,   0,0,0,c1_11, 0,0,c1_14,c1_15},
            {0,0,0,c2_3,   c2_4,0,0,c2_7,   0,0,0,c2_11, 0,c2_13,c2_14,c2_15},
            {c3_0,0,0,0, 0,0,0,c3_7,0,0,0,0,0,0,0,c3_15},
            {},
            {c5_0,c5_1,c5_2,c5_3,0,0,0,c5_7,c5_8,0,0,c5_11,c5_12,c5_13,c5_14,c5_15},
            {c6_0,c6_1,c6_2,c6_3, 0,0,0,c6_7, c6_8,0,0,c6_11, c6_12,c6_13,c6_14,c6_15},
            {},

            {},
            {c9_0,c9_1,c9_2,c9_3, c9_4, 0,0,c9_7, 0,0,0,c9_11, c9_12,c9_13,c9_14,c9_15},
            {c10_0,c10_1,c10_2,c10_3, c10_4,c10_5,c10_6,c10_7, 0,0,0,c10_11, c10_12,c10_13,c10_14,c10_15},        
            {0,0},

            {0,c12_1},
            {c13_0,0,c13_2,c13_3,0,0,0,c13_7,c13_8,0,0,0,0,0,c13_14,c13_15},          
            {c14_0,c14_1,c14_2,c14_3,c14_4 ,0 ,0, 0, c14_8,0,0,c14_11, 0,0,0,c14_15},
            {},
        };

        int cost[16][16] = 
        {
            {1000,  70,1000, 210,   20,  60,  30,  50, 1000,1000,1000,1000, 1000,1000,1000,1000,}, // 0スタートはない
            { 270,1000,  10, 220,   60,  30,  40,  70,   70,  40,  70,  80,  280,  70,  80, 290,}, // 1
            { 300,  90,1000, 210,   70,  62,  30,  60,   80,  72,  40,  70,  310,  85,  50, 280,}, // 2
            { 110, 100,1000,1000,   80,  70,  60,  30,   90,  80,  70,  40,  100,  90,  80, 250,}, // 3 
            {1000,1000,1000,1000, 1000,1000,1000,1000, 1000,1000,1000,1000, 1000,1000,1000,1000,}, // 4 ない
            { 260,  30,  40, 255, 1000,1000,  10,  20,   60,  30,  40,  50,  275,  40,  70, 280,}, // 5 
            { 270,  60,  30, 245,  100,1000,1000,  10,   70,  60,  30,  40,  280,  70,  40, 250,}, //6
            { 280,  70,  60, 230,  110, 100,1000,1000,   80,  70,  60,  30,  290,  80,  70, 240,}, //7
            {1000,1000,1000,1000, 1000,1000,1000,1000, 1000,1000,1000,1000, 1000,1000,1000,1000,}, //8 ない
            { 270,  40,  50, 260,   60,  30,  40,  50, 1000,1000,  10,  20,  260,  30,  40, 255,}, //9 
            { 280,  70,  60, 250,   70,   4,   2,  40,  100,1000,1000,  10,  270,  60,  30, 245,}, //10
            { 290,  80,  70, 240,   80,  70,  60,  30,  110, 100,1000,1000,  280,  70,  60, 230,}, //11
            {1000,1000,1000,1000, 1000,1000,1000,1000, 1000,1000,1000,1000, 1000,1000,1000,1000,}, //12 ない
            { 280,  50,  60, 270,   70,  40,  50,  60,   60,  30,  40,  50, 1000,1000,  10, 220,}, //13
            { 290,  80,  50, 260,   80,  70,  40,  72,   70,  60,  30,  40,  300,  90,1000, 210,}, //14 
            { 100,  90,  80,  50,   90,  80,  70,  40,   80,  70,  60,  30,  110, 100,1000,1000,}, //15 
        };

        int dir_list[16][16] = {
            {}, //0
            {0,0,0,0, -2,0,0,0, 0,0,0,0, 0,0,1,1}, //1
            { 0,0,0,0, -2,0,0,1, 0,0,0,0, 0,-2,1,1}, //2
            {-1,0,0,0, 0,0,0,1 ,0,0,0,9, 0,0,0,1 }, //3
            {}, //4
            {-2,-1,-1,-1, 0,0,0,0, -2,0,0,1, -2,1,1,1}, //5
            {-2,-2,-1,-1, 0,0,0,0, -2,0,0,1, -2,-2,1,1}, //6
            {},           //7
            {}, //8
            {-2,-1,-1,-1, -2,0,0,-1, 0,0,0,0, -2,1,1,1}, //9
            {-2,-2,-1,-1, -2,-2,-1,-1, 0,0,0,0, -2,-2,1,1},  //10      
            {0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0}, //11
            {0,-2},//12
            {-2,0,-1,-1,  0,0,0,0, -2,0,0,0,  0,0,0,0 },//13          
            {-2,-1,-1,-1, -2,0,0,0, -2,0,0,-1, 0,0,0,0 },//14
            {},//15
        }; 

        static BINGO_SEC c1_0[50],c1_1[50],c1_2[50],c1_3[50],c1_4[50],c1_5[50],c1_6[50],c1_7[50],
                         c1_8[50],c1_9[50],c1_10[50],c1_11[50],c1_12[50],c1_13[50],c1_14[50],c1_15[50];
        static BINGO_SEC c2_0[50],c2_1[50],c2_2[50],c2_3[50],c2_4[50],c2_5[50],c2_6[50],c2_7[50],
                         c2_8[50],c2_9[50],c2_10[50],c2_11[50],c2_12[50],c2_13[50],c2_14[50],c2_15[50];
        static BINGO_SEC c3_0[50],c3_1[50],c3_2[50],c3_3[50],c3_4[50],c3_5[50],c3_6[50],c3_7[50],
                         c3_8[50],c3_9[50],c3_10[50],c3_11[50],c3_12[50],c3_13[50],c3_14[50],c3_15[50];
        static BINGO_SEC c4_0[50],c4_1[50],c4_2[50],c4_3[50],c4_4[50],c4_5[50],c4_6[50],c4_7[50],
                         c4_8[50],c4_9[50],c4_10[50],c4_11[50],c4_12[50],c4_13[50],c4_14[50],c4_15[50];
        static BINGO_SEC c5_0[50],c5_1[50],c5_2[50],c5_3[50],c5_4[50],c5_5[50],c5_6[50],c5_7[50],
                         c5_8[50],c5_9[50],c5_10[50],c5_11[50],c5_12[50],c5_13[50],c5_14[50],c5_15[50];
        static BINGO_SEC c6_0[50],c6_1[50],c6_2[50],c6_3[50],c6_4[50],c6_5[50],c6_6[50],c6_7[50],
                         c6_8[50],c6_9[50],c6_10[50],c6_11[50],c6_12[50],c6_13[50],c6_14[50],c6_15[50];

        static BINGO_SEC c9_0[50],c9_1[50],c9_2[50],c9_3[50],c9_4[50],c9_5[50],c9_6[50],c9_7[50],
                         c9_8[50],c9_9[50],c9_10[50],c9_11[50],c9_12[50],c9_13[50],c9_14[50],c9_15[50];
        static BINGO_SEC c10_0[50],c10_1[50],c10_2[50],c10_3[50],c10_4[50],c10_5[50],c10_6[50],c10_7[50],
                         c10_8[50],c10_9[50],c10_10[50],c10_11[50],c10_12[50],c10_13[50],c10_14[50],c10_15[50];
        static BINGO_SEC c11_0[50],c11_1[50],c11_2[50],c11_3[50],c11_4[50],c11_5[50],c11_6[50],c11_7[50],
                         c11_8[50],c11_9[50],c11_10[50],c11_11[50],c11_12[50],c11_13[50],c11_14[50],c11_15[50];
        static BINGO_SEC c12_0[50],c12_1[50],c12_2[50],c12_3[50],c12_4[50],c12_5[50],c12_6[50],c12_7[50],
                         c12_8[50],c12_9[50],c12_10[50],c12_11[50],c12_12[50],c12_13[50],c12_14[50],c12_15[50];
        static BINGO_SEC c13_0[50],c13_1[50],c13_2[50],c13_3[50],c13_4[50],c13_5[50],c13_6[50],c13_7[50],
                         c13_8[50],c13_9[50],c13_10[50],c13_11[50],c13_12[50],c13_13[50],c13_14[50],c13_15[50];
        static BINGO_SEC c14_0[50],c14_1[50],c14_2[50],c14_3[50],c14_4[50],c14_5[50],c14_6[50],c14_7[50],
                         c14_8[50],c14_9[50],c14_10[50],c14_11[50],c14_12[50],c14_13[50],c14_14[50],c14_15[50];
        static BINGO_SEC c15_0[50],c15_1[50],c15_2[50],c15_3[50],c15_4[50],c15_5[50],c15_6[50],c15_7[50],
                         c15_8[50],c15_9[50],c15_10[50],c15_11[50],c15_12[50],c15_13[50],c15_14[50],c15_15[50];

       
};
#endif